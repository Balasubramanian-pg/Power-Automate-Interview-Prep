# 80. Using Top Count for Performance

Canonical documentation for 80. Using Top Count for Performance. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 80. Using Top Count for Performance exists and the class of problems it addresses.
The purpose of using Top Count for performance is to optimize query execution and reduce the amount of data being processed, thereby improving overall system efficiency. The problem space it addresses includes scenarios where large datasets need to be filtered or aggregated, and only a subset of the data is relevant for analysis or reporting. By using Top Count, developers can limit the number of rows returned, reducing computational overhead and enhancing performance.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The conceptual overview of using Top Count for performance involves understanding the trade-offs between data completeness and query performance. It requires identifying the most critical data elements, determining the optimal number of top records to retrieve, and balancing the need for data accuracy with the need for speed. This approach enables developers to prioritize performance without sacrificing essential insights.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Top Count | A query clause that limits the number of rows returned in a result set. |
| Performance Optimization | The process of improving the efficiency and speed of a system or application. |
| Query Execution | The process of retrieving data from a database or data storage system. |
| Data Aggregation | The process of combining multiple values into a single value, such as sum, average, or count. |
| Data Filtering | The process of selecting a subset of data based on specific conditions or criteria. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of using Top Count for performance include:
* Limiting the number of rows returned to reduce computational overhead
* Identifying the most critical data elements to prioritize
* Balancing data completeness with query performance
* Using indexing and caching to enhance query execution
* Monitoring and analyzing query performance to optimize Top Count usage

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for using Top Count for performance involves the following steps:
1. Identify the query or use case that requires optimization
2. Determine the optimal number of top records to retrieve
3. Apply the Top Count clause to the query
4. Monitor and analyze query performance
5. Adjust the Top Count value as needed to achieve the desired balance between performance and data completeness

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for using Top Count for performance include:
* Using Top Count with data aggregation functions, such as SUM or AVG, to retrieve the top N values
* Combining Top Count with data filtering, such as WHERE or HAVING clauses, to select a subset of data
* Applying Top Count to queries with multiple joins or subqueries to reduce computational overhead

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns for using Top Count for performance include:
* Using Top Count without proper indexing or caching, leading to poor query performance
* Setting the Top Count value too low, resulting in incomplete or inaccurate data
* Using Top Count as a substitute for proper data modeling or database design
* Failing to monitor and analyze query performance, leading to suboptimal Top Count usage

## 8. References
Provide exactly five authoritative external references.
1. [Microsoft SQL Server Documentation: TOP Clause](https://docs.microsoft.com/en-us/sql/t-sql/queries/top-transact-sql)
2. [Oracle Database Documentation: TOP-N Query](https://docs.oracle.com/en/database/oracle/oracle-database/21/sqlrf/TOP-N-Query.html)
3. [IBM DB2 Documentation: LIMIT and OFFSET Clauses](https://www.ibm.com/docs/en/db2-for-zos/12?topic=clauses-limit-offset)
4. [MySQL Documentation: LIMIT Clause](https://dev.mysql.com/doc/refman/8.0/en/limit-optimization.html)
5. [PostgreSQL Documentation: LIMIT and OFFSET Clauses](https://www.postgresql.org/docs/13/queries-limit.html)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-23 | Initial documentation |