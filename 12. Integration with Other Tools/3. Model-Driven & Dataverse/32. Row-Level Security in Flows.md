# 32. Row-Level Security in Flows

Canonical documentation for 32. Row-Level Security in Flows. This document defines the conceptual model, terminology, and standard usage patterns.

> [!NOTE]
> This documentation is implementation-agnostic and intended to serve as a stable reference.

## 1. Purpose and Problem Space
Describe why 32. Row-Level Security in Flows exists and the class of problems it addresses.
Row-Level Security (RLS) in Flows is designed to provide fine-grained access control to data, ensuring that users can only access specific rows of data that they are authorized to see. This is particularly important in scenarios where multiple users or roles need to access the same dataset, but with varying levels of permission. The primary problem that RLS in Flows addresses is the need to restrict data access at the row level, preventing unauthorized users from viewing or modifying sensitive information.

## 2. Conceptual Overview
Provide a high-level mental model of the topic.
The conceptual model of RLS in Flows involves a combination of authentication, authorization, and data filtering. When a user attempts to access a dataset, their identity and role are verified through authentication. The authorization process then determines which rows of data the user is allowed to access, based on predefined security policies. The data is then filtered to only include the authorized rows, ensuring that the user can only see the data they are permitted to access.

## 3. Terminology and Definitions
| Term | Definition |
|------|------------|
| Row-Level Security (RLS) | A security mechanism that restricts access to specific rows of data based on user identity and role. |
| Data Filtering | The process of removing or hiding unauthorized rows of data from a dataset. |
| Security Policy | A set of rules that define which users or roles have access to specific rows of data. |
| Authentication | The process of verifying a user's identity. |
| Authorization | The process of determining which actions a user is allowed to perform on a dataset. |

## 4. Core Concepts
Explain the fundamental ideas that form the basis of this topic.
The core concepts of RLS in Flows include:
* **Security Context**: The set of security policies and rules that apply to a specific dataset or flow.
* **Row-Level Access Control**: The ability to control access to specific rows of data based on user identity and role.
* **Data Masking**: The process of hiding or obscuring sensitive data to prevent unauthorized access.
* **Dynamic Data Filtering**: The ability to filter data in real-time based on changing security policies or user roles.

## 5. Standard Model
Describe the generally accepted or recommended model.
The standard model for RLS in Flows involves the following components:
* **Security Policy Engine**: A centralized component that manages and evaluates security policies.
* **Data Filter**: A component that applies data filtering rules to a dataset based on security policies.
* **Authentication and Authorization Service**: A component that verifies user identity and determines authorization levels.
* **Data Store**: A component that stores the dataset and applies data filtering rules.

## 6. Common Patterns
Document recurring, accepted patterns.
Common patterns for RLS in Flows include:
* **Role-Based Access Control**: Assigning access levels to users based on their role or group membership.
* **Attribute-Based Access Control**: Assigning access levels to users based on attributes such as department or location.
* **Data Encryption**: Encrypting sensitive data to prevent unauthorized access.

## 7. Anti-Patterns
Describe common but discouraged practices.
Anti-patterns for RLS in Flows include:
* **Overly Permissive Security Policies**: Granting excessive access to data, increasing the risk of unauthorized access.
* **Inconsistent Data Filtering**: Applying inconsistent or incomplete data filtering rules, leading to security vulnerabilities.
* **Lack of Auditing and Logging**: Failing to monitor and log access to sensitive data, making it difficult to detect security breaches.

## 8. References
Provide exactly five authoritative external references.
1. [Microsoft Azure - Row-Level Security](https://docs.microsoft.com/en-us/azure/sql-database/sql-database-row-level-security)
2. [Oracle - Row-Level Security](https://docs.oracle.com/en/database/oracle/oracle-database/21/dbseg/row-level-security.html)
3. [IBM - Row and Column Access Control](https://www.ibm.com/docs/en/db2-for-zos/12?topic=security-row-column-access-control)
4. [NIST - Access Control](https://csrc.nist.gov/projects/identity-and-access-management/access-control)
5. [OWASP - Access Control Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Access_Control_Cheat_Sheet.html)

## 9. Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-26 | Initial documentation |