# 26. Manually Trigger a Flow

Canonical documentation for 26. Manually Trigger a Flow. This document defines concepts, terminology, and standard usage.

## Purpose
The manual triggering of a flow addresses the requirement for human-initiated execution within automated systems. While automation often relies on event-driven or scheduled triggers, manual intervention is necessary for ad-hoc tasks, administrative overrides, testing, and processes that require human judgment before commencement. This topic establishes the framework for how a user intentionally signals a system to execute a predefined sequence of operations.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative.

## Scope
Clarify what is in scope and out of scope for this topic.

**In scope:**
* Mechanisms for human-to-system execution signaling.
* Input parameter handling during manual initiation.
* Security and authorization boundaries for manual execution.
* The lifecycle of a manually triggered instance.

**Out of scope:**
* Automated event listeners (e.g., webhooks, file system watchers).
* Temporal triggers (e.g., CRON jobs, scheduled tasks).
* Specific UI/UX design implementations of "buttons" or "commands."

## Definitions
| Term | Definition |
|------|------------|
| Flow | A defined sequence of automated steps or logic designed to achieve a specific outcome. |
| Manual Trigger | An explicit action taken by a human agent to start the execution of a flow. |
| Input Schema | The predefined structure and data types required by a flow at the time of initiation. |
| Execution Context | The environment and metadata (e.g., user ID, timestamp) associated with a specific run. |
| Invoker | The authenticated entity (user or service account acting on behalf of a user) that initiates the flow. |

## Core Concepts

### Intentionality
Unlike automated triggers, which respond to state changes or time, a manual trigger is defined by **intent**. The system must provide a mechanism to capture this intent and translate it into an execution command.

### Input Provisioning
Manual triggers often allow for the injection of dynamic data at the moment of start. This requires a contract between the invoker and the flow, ensuring that the provided data matches the expected schema.

### Authorization and Governance
Because manual triggers bypass automated logic, they represent a potential security risk. Access control must be strictly enforced to ensure only authorized invokers can execute specific flows, particularly those with destructive or high-resource impacts.

### Synchronicity vs. Asynchronicity
A manual trigger may be:
*   **Synchronous:** The invoker waits for the flow to complete or reach a certain state before receiving a response.
*   **Asynchronous:** The invoker receives an acknowledgment of the trigger, and the flow executes independently in the background.

## Standard Model

The standard model for manually triggering a flow follows a five-stage lifecycle:

1.  **Discovery:** The invoker identifies the flow to be executed from a registry or interface.
2.  **Authentication/Authorization:** The system verifies the invokerâ€™s identity and confirms they have the "Execute" permission for that specific flow.
3.  **Input Collection:** If the flow requires parameters, the system prompts the invoker to provide data adhering to the Input Schema.
4.  **Validation:** The system validates the provided inputs against the schema and constraints before passing them to the execution engine.
5.  **Instantiation:** The execution engine creates a unique instance of the flow, tagging it with the invoker's context for auditability.

## Common Patterns

### The "On-Demand" Utility
Used for repetitive administrative tasks that do not have a predictable schedule, such as manual database backups, cache clearing, or report generation.

### The "Human-in-the-Loop" Gateway
A flow that is triggered manually as a response to an external real-world event that the system cannot sense (e.g., a physical delivery confirmation or a verbal agreement).

### The "Test/Debug" Execution
Triggering a flow manually to verify logic changes in a controlled environment before enabling automated triggers.

### ChatOps/CLI Triggering
Initiating flows via command-line interfaces or chat platforms, where the "trigger" is a specific text command parsed by a bot or shell.

## Anti-Patterns

*   **Hardcoding Credentials:** Requiring the invoker to manually input sensitive credentials that should be managed via a secure vault or service identity.
*   **Lack of Idempotency:** Designing a manual flow that causes system corruption or duplicate data if triggered twice by mistake.
*   **Bypassing Validation:** Allowing manual triggers to inject unvalidated data into a system, leading to downstream failures.
*   **Shadow Automation:** Using manual triggers for high-frequency tasks that should be automated, leading to "human-as-a-middleware" bottlenecks.

## Edge Cases

*   **Concurrent Execution:** What happens if two users manually trigger the same flow simultaneously? The system must define locking mechanisms or allow parallel instances.
*   **Partial Input:** Handling scenarios where a user provides some but not all required inputs, or provides inputs that are syntactically correct but logically invalid.
*   **Session Expiry:** If a manual trigger requires a long period of input collection, the system must handle cases where the user's authentication session expires before the "Submit" action is taken.
*   **Orphaned Triggers:** A flow is triggered, but the invoker disconnects or closes the interface before the system can return an execution ID or status.

## Related Topics
*   **12. Flow Orchestration:** How multiple flows are coordinated.
*   **45. Input Validation and Sanitization:** The technical requirements for checking data at the trigger point.
*   **08. Identity and Access Management (IAM):** The underlying security framework for authorization.
*   **19. Audit Logging:** Recording who triggered what and when.

## Change Log
| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-16 | Initial AI-generated canonical documentation |