# 7. Third Party Application Connections

Canonical documentation for 7. Third Party Application Connections. This document defines concepts, terminology, and standard usage.

## Purpose
The purpose of Third Party Application Connections is to enable secure, interoperable, and controlled data exchange between a primary system (the Host) and external software entities (Third-Party Applications). This framework addresses the need for extensibility and ecosystem growth while maintaining the integrity, privacy, and security of the Host system’s data and user base. It provides a mechanism for users to delegate specific permissions to external tools without compromising their primary credentials.

> [!NOTE]
> This documentation is intended to be implementation-agnostic and authoritative.

## Scope
Clarify what is in scope and out of scope for this topic.

**In scope:**
* Mechanisms for delegated authorization and authentication.
* Lifecycle management of external connections (creation, maintenance, revocation).
* Security boundaries and the principle of least privilege in data sharing.
* Governance and auditing of external access.
* Communication protocols and data exchange patterns.

**Out of scope:**
* Specific vendor implementations (e.g., specific configurations for Salesforce, Slack, or GitHub).
* Internal service-to-service communication within a single trust boundary.
* Physical networking layers or hardware-level connectivity.

## Definitions
Provide precise definitions for key terms.

| Term | Definition |
|------|------------|
| **Host System** | The primary platform or service that holds the data or functionality being accessed. |
| **Third-Party Application** | An external software entity, not managed by the Host System, requesting access to resources. |
| **Resource Owner** | The entity (usually a user) capable of granting access to a protected resource. |
| **Delegated Authorization** | A process where a user allows a third party to act on their behalf without sharing their primary credentials. |
| **Scope** | A mechanism used to limit a third-party application's access to a specific subset of data or functionality. |
| **Consent** | The explicit agreement by the Resource Owner to allow the connection and data exchange. |
| **Revocation** | The process of invalidating a previously granted connection or access token. |
| **Webhook** | An automated message sent from the Host System to a Third-Party Application when a specific event occurs. |

## Core Concepts

### 1. Trust Boundaries
A Third-Party Application exists outside the Host System’s administrative control. Therefore, every connection must cross a trust boundary where the Host System treats the external application as untrusted until proven otherwise through valid authentication and authorization.

### 2. Principle of Least Privilege (PoLP)
Connections should only be granted the minimum level of access required to perform their intended function. This is managed through granular scopes (e.g., `read:profile` vs. `write:admin`).

### 3. Identity vs. Permission
A connection must distinguish between *who* the application is (Identity) and *what* it is allowed to do (Permission). Identity is verified via authentication; permissions are established via authorization.

### 4. Lifecycle Management
Every connection has a lifecycle:
1.  **Registration:** The application is identified by the Host.
2.  **Authorization:** The user grants permission.
3.  **Operation:** Data is exchanged using tokens or keys.
4.  **Rotation/Refresh:** Credentials are updated to maintain security.
5.  **Termination:** Access is revoked or expires.

## Standard Model

The standard model for Third-Party Application Connections is the **Delegated Authorization Model**. This model involves four distinct roles:

1.  **The Client (Third-Party App):** Requests access to the Resource Owner's account.
2.  **The Resource Server (Host Data):** Holds the data the client wants to access.
3.  **The Authorization Server (Host Security):** Verifies the identity of the user and issues access tokens to the Client.
4.  **The Resource Owner (User):** Approves or denies the request.

In this model, the Client never sees the Resource Owner's password. Instead, it receives a **Token**—a limited-use string that represents the specific permissions granted.

## Common Patterns

### 1. Authorization Code Flow
The most secure pattern for web and mobile applications. It involves a redirection to the Host System where the user logs in and approves access, returning a temporary code to the Third-Party App, which is then exchanged for an access token.

### 2. API Key/Secret Pair
Commonly used for server-to-server integrations where a user is not present. The Third-Party App uses a long-lived credential to authenticate directly with the Host System's API.

### 3. Outbound Webhooks (Event-Driven)
Instead of the Third-Party App polling the Host for updates, the Host "pushes" data to a pre-defined URL in the Third-Party App when specific events occur (e.g., a new record is created).

### 4. Managed Marketplaces
A centralized directory within the Host System where vetted Third-Party Applications can be discovered and installed with standardized permission sets.

## Anti-Patterns

*   **Credential Sharing:** Requiring users to provide their Host System username and password directly to the Third-Party Application.
*   **Over-Scoping:** Requesting "Full Admin" access when only "Read-Only" access to a specific module is required.
*   **Hardcoded Secrets:** Embedding API keys or client secrets directly in client-side code (JavaScript) or public repositories.
*   **Lack of Revocation:** Providing no way for a user or administrator to terminate a connection without changing their primary password.
*   **Infinite Token Lifespans:** Issuing access tokens that never expire, increasing the risk if a token is intercepted.

## Edge Cases

*   **Offline Access:** Scenarios where a Third-Party Application needs to access data while the Resource Owner is not actively using the application. This requires "Refresh Tokens."
*   **Cascading Deletion:** Determining whether data stored in the Third-Party Application should be deleted when the connection is revoked or the user's account is closed.
*   **Scope Escalation:** Handling situations where a Third-Party Application updates its requirements and needs additional permissions from existing users.
*   **Rate Limiting and Throttling:** Managing connections that consume disproportionate resources, potentially impacting the Host System's performance for other users.

## Related Topics

*   **Identity and Access Management (IAM):** The broader framework for managing digital identities.
*   **API Governance:** The policies surrounding the publication and consumption of APIs.
*   **Data Privacy Regulations (GDPR/CCPA):** Legal frameworks governing how data can be shared with third parties.
*   **Zero Trust Architecture:** A security model that assumes no entity is trusted by default, regardless of its location relative to the network perimeter.

## Change Log

| Version | Date | Description |
|---------|------|-------------|
| 1.0 | 2026-01-16 | Initial AI-generated canonical documentation |